function createWebWorker(){var e=search_urls.map((e=>{let t=document.location.href.split("/");return t[t.length-1]=e,'"'+t.join("/")+'"'}));blobContents=["importScripts("+e.join(",")+");"];var t=new Blob(blobContents,{type:"application/javascript"}),r=URL.createObjectURL(t),a=new Worker(r);return URL.revokeObjectURL(r),a}var worker,waiting=0;function wait(){waiting+=1,document.querySelector(".search-snake").classList.add("search-busy")}function stop_waiting(){waiting>0?waiting-=1:waiting=0,0==waiting&&document.querySelector(".search-snake").classList.remove("search-busy")}document.querySelector(".search-bar").addEventListener("focus",(e=>{void 0===worker&&((worker=createWebWorker()).onmessage=e=>{stop_waiting();let t=e.data,r=document.querySelector(".search-result");r.innerHTML="";t.forEach((e=>{let t=document.createElement("a");t.classList.add("search-entry"),t.href=base_url+e.url,t.innerHTML=e.html,r.appendChild(t)}));let a=document.querySelector(".search-bar").value;if(0==t.length&&""!=a){let e=document.createElement("div");e.classList.add("search-no-result"),e.innerText="No result...",r.appendChild(e)}})})),document.querySelector(".search-bar").addEventListener("input",(e=>{wait(),worker.postMessage(e.target.value)}));