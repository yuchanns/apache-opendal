"use strict";!function(){const e=window.location.pathname.endsWith("/settings.html");function t(e,t){if("theme"===e){updateLocalStorage("use-system-theme","system preference"===t?"true":"false")}switch(updateLocalStorage(e,t),e){case"theme":case"preferred-dark-theme":case"preferred-light-theme":updateTheme(),n();break;case"line-numbers":!0===t?window.rustdoc_add_line_numbers_to_examples():window.rustdoc_remove_line_numbers_from_examples();break;case"hide-sidebar":!0===t?addClass(document.documentElement,"hide-sidebar"):removeClass(document.documentElement,"hide-sidebar")}}function n(){const e=getSettingValue("use-system-theme");"true"===e||null===e&&null===getSettingValue("theme")?(removeClass(document.getElementById("preferred-light-theme"),"hidden"),removeClass(document.getElementById("preferred-dark-theme"),"hidden")):(addClass(document.getElementById("preferred-light-theme"),"hidden"),addClass(document.getElementById("preferred-dark-theme"),"hidden"))}const a=function(){const t=getVar("themes").split(",").filter((e=>e));t.push("light","dark","ayu");const n=[{name:"Theme",js_name:"theme",default:"system preference",options:t.concat("system preference")},{name:"Preferred light theme",js_name:"preferred-light-theme",default:"light",options:t},{name:"Preferred dark theme",js_name:"preferred-dark-theme",default:"dark",options:t},{name:"Auto-hide item contents for large items",js_name:"auto-hide-large-items",default:!0},{name:"Auto-hide item methods' documentation",js_name:"auto-hide-method-docs",default:!1},{name:"Auto-hide trait implementation documentation",js_name:"auto-hide-trait-implementations",default:!1},{name:"Directly go to item in search if there is only one result",js_name:"go-to-only-result",default:!1},{name:"Show line numbers on code examples",js_name:"line-numbers",default:!1},{name:"Hide persistent navigation bar",js_name:"hide-sidebar",default:!1},{name:"Disable keyboard shortcuts",js_name:"disable-shortcuts",default:!1}],a=e?"section":"div",s=`<div class="settings">${function(e){let t="";for(const n of e){const e=n.js_name,a=n.name;if(void 0!==n.options)t+=`<div class="setting-line" id="${e}">\n    <div class="setting-radio-name">${a}</div>\n    <div class="setting-radio-choices">`,onEach(n.options,(a=>{const s=a===n.default?" checked":"",i=`${e}-${a.replace(/ /g,"-")}`;t+=`        <label for="${i}" class="setting-radio">\n            <input type="radio" name="${e}"\n                id="${i}" value="${a}"${s}>\n            <span>${a}</span>\n        </label>`})),t+="    </div>\n</div>";else{const s=!0===n.default?" checked":"";t+=`<div class="setting-line">    <label class="setting-check">        <input type="checkbox" id="${e}"${s}>        <span>${a}</span>    </label></div>`}}return t}(n)}</div>`,i=document.createElement(a);return i.id="settings",e||(i.className="popover"),i.innerHTML=s,e?document.getElementById(MAIN_ID).appendChild(i):(i.setAttribute("tabindex","-1"),getSettingsButton().appendChild(i)),i}();function s(){a.style.display="",onEachLazy(a.querySelectorAll("input[type='checkbox']"),(e=>{const t=getSettingValue(e.id),n="true"===t;n!==e.checked&&null!==t&&(e.checked=n)}))}function i(e){blurHandler(e,getSettingsButton(),window.hidePopoverMenus)}if(e)getSettingsButton().onclick=e=>{e.preventDefault()};else{const e=getSettingsButton(),t=document.getElementById("settings");e.onclick=e=>{if(t.contains(e.target))return;e.preventDefault();const n="none"===t.style.display;window.hideAllModals(),n&&s()},e.onblur=i,e.querySelector("a").onblur=i,onEachLazy(t.querySelectorAll("input"),(e=>{e.onblur=i})),t.onblur=i}setTimeout((()=>{var i;i=a,n(),onEachLazy(i.querySelectorAll('input[type="checkbox"]'),(e=>{const n=e.id,a=getSettingValue(n);null!==a&&(e.checked="true"===a),e.onchange=()=>{t(e.id,e.checked)}})),onEachLazy(i.querySelectorAll('input[type="radio"]'),(e=>{const n=e.name;let a=getSettingValue(n);if("theme"===n){const e=getSettingValue("use-system-theme");"true"!==e&&null!==a||(a="false"===e?"light":"system preference")}null!==a&&"null"!==a&&(e.checked=a===e.value),e.addEventListener("change",(e=>{t(e.target.name,e.target.value)}))})),e||s(),removeClass(getSettingsButton(),"rotate")}),0)}();