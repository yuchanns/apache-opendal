"use strict";const builtinThemes=["light","dark","ayu"],darkThemes=["dark","ayu"];window.currentTheme=document.getElementById("themeStyle");const settingsDataset=function(){const e=document.getElementById("default-settings");return e&&e.dataset?e.dataset:null}();function getSettingValue(e){const t=getCurrentValue(e);if(null===t&&null!==settingsDataset){const t=settingsDataset[e.replace(/-/g,"_")];if(void 0!==t)return t}return t}const localStoredTheme=getSettingValue("theme");function hasClass(e,t){return e&&e.classList&&e.classList.contains(t)}function addClass(e,t){e&&e.classList&&e.classList.add(t)}function removeClass(e,t){e&&e.classList&&e.classList.remove(t)}function onEach(e,t){for(const n of e)if(t(n))return!0;return!1}function onEachLazy(e,t){return onEach(Array.prototype.slice.call(e),t)}function updateLocalStorage(e,t){try{window.localStorage.setItem("rustdoc-"+e,t)}catch(n){}}function getCurrentValue(e){try{return window.localStorage.getItem("rustdoc-"+e)}catch(t){return null}}const getVar=function(e){const t=document.querySelector("head > meta[name='rustdoc-vars']");return t?t.attributes["data-"+e].value:null};function switchTheme(e,t){const n=getVar("themes").split(",").filter((e=>e));if(n.push(...builtinThemes),-1!==n.indexOf(e))if(t&&updateLocalStorage("theme",e),document.documentElement.setAttribute("data-theme",e),-1!==builtinThemes.indexOf(e))window.currentTheme&&(window.currentTheme.parentNode.removeChild(window.currentTheme),window.currentTheme=null);else{const t=getVar("root-path")+encodeURIComponent(e)+getVar("resource-suffix")+".css";window.currentTheme?t!==window.currentTheme.href&&(window.currentTheme.href=t):"loading"===document.readyState?(document.write(`<link rel="stylesheet" id="themeStyle" href="${t}">`),window.currentTheme=document.getElementById("themeStyle")):(window.currentTheme=document.createElement("link"),window.currentTheme.rel="stylesheet",window.currentTheme.id="themeStyle",window.currentTheme.href=t,document.documentElement.appendChild(window.currentTheme))}}const updateTheme=function(){const e=window.matchMedia("(prefers-color-scheme: dark)");function t(){if("false"!==getSettingValue("use-system-theme")){const t=getSettingValue("preferred-light-theme")||"light",n=getSettingValue("preferred-dark-theme")||"dark";updateLocalStorage("use-system-theme","true"),switchTheme(e.matches?n:t,!0)}else switchTheme(getSettingValue("theme"),!1)}return e.addEventListener("change",t),t}();function updateSidebarWidth(){const e=getSettingValue("desktop-sidebar-width");e&&"null"!==e&&document.documentElement.style.setProperty("--desktop-sidebar-width",e+"px");const t=getSettingValue("src-sidebar-width");t&&"null"!==t&&document.documentElement.style.setProperty("--src-sidebar-width",t+"px")}"false"!==getSettingValue("use-system-theme")&&window.matchMedia&&null===getSettingValue("use-system-theme")&&null===getSettingValue("preferred-dark-theme")&&darkThemes.indexOf(localStoredTheme)>=0&&updateLocalStorage("preferred-dark-theme",localStoredTheme),updateTheme(),"true"===getSettingValue("source-sidebar-show")&&addClass(document.documentElement,"src-sidebar-expanded"),"true"===getSettingValue("hide-sidebar")&&addClass(document.documentElement,"hide-sidebar"),updateSidebarWidth(),window.addEventListener("pageshow",(e=>{e.persisted&&(setTimeout(updateTheme,0),setTimeout(updateSidebarWidth,0))}));class RustdocSearchElement extends HTMLElement{constructor(){super()}connectedCallback(){const e=getVar("root-path"),t=getVar("current-crate");this.innerHTML=`<nav class="sub">\n            <form class="search-form">\n                <span></span> \x3c!-- This empty span is a hacky fix for Safari - See #93184 --\x3e\n                <div id="sidebar-button" tabindex="-1">\n                    <a href="${e}${t}/all.html" title="show sidebar"></a>\n                </div>\n                <input\n                    class="search-input"\n                    name="search"\n                    aria-label="Run search in the documentation"\n                    autocomplete="off"\n                    spellcheck="false"\n                    placeholder="Type \u2018S\u2019 or \u2018/\u2019 to search, \u2018?\u2019 for more options\u2026"\n                    type="search">\n                <div id="help-button" tabindex="-1">\n                    <a href="${e}help.html" title="help">?</a>\n                </div>\n                <div id="settings-menu" tabindex="-1">\n                    <a href="${e}settings.html" title="settings">\n                        Settings\n                    </a>\n                </div>\n            </form>\n        </nav>`}}window.customElements.define("rustdoc-search",RustdocSearchElement);